<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <style>
        .map {
            width: 100%;
            height: 800px;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    </style>
    <link rel="stylesheet" href="js/ol/ol.css" type="text/css">
    <script src="js/ol/ol.js"></script>
    <title>OpenLayers example</title>
</head>

<body>
    <div id="map" class="map"></div>
    <script type="text/javascript">
        let map = new ol.Map({
            target: 'map',
            layers: [
                new ol.layer.Tile({
                    source: new ol.source.TileArcGISRest({
                        url: "https://server.arcgisonline.com/arcgis/rest/services/World_Street_Map/MapServer"
                    })
                })
            ],
            view: new ol.View({
                center: ol.proj.fromLonLat([116.39392, 39.916927]),
                zoom: 12
            })
        });
        //ol3本质 arcgis将10进制转16进制，余位补0，凑成ArcServer的切片格式
        // let tiles= new ol.layer.Tile({
        //        source : new ol.source.XYZ({
        //                         tileUrlFunction : function (xyz, obj1, obj2) {
        //                             var z = xyz[0];
        //                             var x = Math.abs(xyz[1]);
        //                             var y = Math.abs(xyz[2]) - 1;
        //                             var x = 'C' + padLeft(8, x.toString(16));
        //                             var y = 'R' + padLeft(8, y.toString(16));
        //                             var z = 'L' + padLeft(2, z);
        //                             var url = 'ArcServerTile/' + z + '/' + y + '/' + x + '.png';
        //                             return url;
        //                         }
        //                     })
        //     })
        //     //将10进制转16进制，余位补0，凑成ArcServer的切片格式
        //     function padLeft(num, val) {
        //         return (new Array(num).join('0') + val).slice(-num);
        //     }
    </script>
</body>

</html>